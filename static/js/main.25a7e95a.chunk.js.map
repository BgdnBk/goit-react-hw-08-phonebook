{"version":3,"sources":["redux/phonebook/phonebook-action.js","redux/auth/index.js","redux/auth/auth-reduser.js","redux/auth/auth-selectors.js","redux/auth/auth-operations.js","redux/auth/auth-action.js","components/ContactForm/ContactForm.module.css","redux/phonebook/phonebook-reducer.js","redux/store.js","components/AppBar/Navigation.js","components/AppBar/UserMenu.js","components/AppBar/AuthNav.js","components/AppBar/NavBar.js","components/AppBar/PrivateRoute.js","components/AppBar/PublicRoute.js","App.js","index.js"],"names":["fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","initialState","name","email","user","createReducer","authActions","registerSuccess","_","payload","loginSuccess","logoutSuccess","getCurrentUserSuccess","token","error","registerError","loginError","logoutError","getCurrentUserError","IsAuthenticated","combineReducers","getIsAuthenticated","state","auth","getUserName","axios","defaults","baseURL","headers","common","Authorization","register","credential","dispatch","a","registerRequest","post","response","data","message","login","loginRequest","logout","logoutRequest","getCurrentUser","getState","persistedToken","getCurrentUserRequest","get","module","exports","contacts","console","log","filter","id","loading","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducers","phonebook","phonebookReducer","devTools","process","persistor","persistStore","connect","isAuthenticated","authSelectors","exact","to","mapDispatchToProps","onLogout","authOperations","type","onClick","AuthNav","Component","component","redirectTo","routeProps","render","props","restricted","HomeView","lazy","LoginView","RegistrView","ContactsView","Phonebook","this","onGetCurrentUser","className","s","container","autoClose","fallback","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25a7e95a.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactRequest = createAction(\r\n  \"phonebook/fetchContactRequest\"\r\n);\r\nexport const fetchContactSuccess = createAction(\r\n  \"phonebook/fetchContactSuccess\"\r\n);\r\nexport const fetchContactError = createAction(\"phonebook/fetchContactError\");\r\n\r\nexport const addContactRequest = createAction(\"phonebook/addContactRequest\");\r\nexport const addContactSuccess = createAction(\"phonebook/addContactSuccess\");\r\nexport const addContactError = createAction(\"phonebook/addContactError\");\r\n\r\nexport const deleteContactRequest = createAction(\r\n  \"phonebook/deleteContactRequest\"\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  \"phonebook/deleteContactSuccess\"\r\n);\r\nexport const deleteContactError = createAction(\"phonebook/deleteContactError\");\r\n\r\nexport const changeFilter = createAction(\"phonebook/changeFilter\");\r\n","export { default as authActions } from \"./auth-action\";\r\nexport { default as authReducers } from \"./auth-reduser\";\r\nexport { default as authOperations } from \"./auth-operations\";\r\nexport { default as authSelectors } from \"./auth-selectors\";\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport authActions from \"./auth-action\";\r\n\r\nconst initialState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.logoutSuccess]: () => initialState,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: (_, { payload }) => payload,\r\n  [authActions.loginError]: (_, { payload }) => payload,\r\n  [authActions.logoutError]: (_, { payload }) => payload,\r\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst IsAuthenticated = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n  [authActions.loginSuccess]: () => true,\r\n  [authActions.getCurrentUserSuccess]: () => true,\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  IsAuthenticated,\r\n  token,\r\n  error,\r\n});\r\n","const getIsAuthenticated = (state) => state.auth.IsAuthenticated;\r\nconst getUserName = (state) => state.auth.user.name;\r\n\r\nexport default {\r\n  getIsAuthenticated,\r\n  getUserName,\r\n};\r\n","import axios from \"axios\";\r\nimport authActions from \"./auth-action\";\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n//  /users/signup\r\nconst register = (credential) => async (dispatch) => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  try {\r\n    const response = await axios.post(\"/users/signup\", credential);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n// /users/login\r\nconst login = (credential) => async (dispatch) => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post(\"/users/login\", credential);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n// /users/logout\r\nconst logout = () => async (dispatch) => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n\r\n    token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n// /users/current\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n\r\n  dispatch(authActions.getCurrentUserRequest());\r\n  try {\r\n    const response = await axios.get(\"/users/current\");\r\n    dispatch(authActions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default { register, login, logout, getCurrentUser };\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst registerRequest = createAction(\"auth/registerRequest\");\r\nconst registerSuccess = createAction(\"auth/registerSuccess\");\r\nconst registerError = createAction(\"auth/registerError\");\r\n\r\nconst loginRequest = createAction(\"auth/loginRequest\");\r\nconst loginSuccess = createAction(\"auth/loginSuccess\");\r\nconst loginError = createAction(\"auth/loginError\");\r\n\r\nconst logoutRequest = createAction(\"auth/logoutRequest\");\r\nconst logoutSuccess = createAction(\"auth/logoutSuccess\");\r\nconst logoutError = createAction(\"auth/logoutError\");\r\n\r\nconst getCurrentUserRequest = createAction(\"auth/getCurrentUserRequest\");\r\nconst getCurrentUserSuccess = createAction(\"auth/getCurrentUserSuccess\");\r\nconst getCurrentUserError = createAction(\"auth/getCurrentUserError\");\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ContactForm_container__1gk-q\",\"form\":\"ContactForm_form__3RSZ6\",\"contactList\":\"ContactForm_contactList__23fDL\",\"btnList\":\"ContactForm_btnList__3pUdJ\",\"table\":\"ContactForm_table__1rfBE\",\"enter\":\"ContactForm_enter__gTKnu\",\"enterActive\":\"ContactForm_enterActive__1h_Ot\",\"exit\":\"ContactForm_exit__1O8Xl\",\"exitActive\":\"ContactForm_exitActive__1mZk7\"};","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n  changeFilter,\r\n} from \"./phonebook-action\";\r\n\r\nconst contacts = createReducer([], {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => {\r\n    console.log(\"payload addContast\", payload);\r\n    return [...state, payload];\r\n  },\r\n  [deleteContactSuccess]: (state, { payload }) => {\r\n    return state.filter(({ id }) => id !== payload);\r\n  },\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactRequest]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  contacts,\r\n  filter,\r\n  loading,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport phonebookReducer from \"./phonebook/phonebook-reducer\";\r\nimport authReducers from \"./auth/auth-reduser\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducers),\r\n    phonebook: phonebookReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport authSelectors from \"../../redux/auth/auth-selectors\";\r\n\r\nfunction Navigation({ isAuthenticated }) {\r\n  return (\r\n    <div>\r\n      <NavLink exact to=\"/\">\r\n        Главная\r\n      </NavLink>\r\n\r\n      {isAuthenticated && (\r\n        <NavLink exact to=\"/contacts\">\r\n          Контакты\r\n        </NavLink>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { authSelectors, authOperations } from \"../../redux/auth\";\r\n\r\nconst UserMenu = ({ name, onLogout }) => (\r\n  <div>\r\n    <span>Добро пожаловать, {name}</span>\r\n    <button type=\"button\" onClick={onLogout}>\r\n      Выйти\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  name: authSelectors.getUserName(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink to=\"/registration\">Регистрация</NavLink>\r\n      <NavLink to=\"/login\">Авторизация</NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Navigation from \"./Navigation\";\r\nimport UserMenu from \"./UserMenu\";\r\nimport AuthNav from \"./AuthNav\";\r\nimport { authSelectors } from \"../../redux/auth/\";\r\n\r\nfunction NavBar({ IsAuthenticated }) {\r\n  return (\r\n    <header>\r\n      <Navigation />\r\n      {IsAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  IsAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(NavBar);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { Component, Suspense, lazy } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Switch } from \"react-router\";\r\nimport \"./App.css\";\r\nimport s from \"./components/ContactForm/ContactForm.module.css\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport NavBar from \"./components/AppBar/NavBar\";\r\nimport authOperations from \"./redux/auth/auth-operations\";\r\nimport PrivateRoute from \"./components/AppBar/PrivateRoute\";\r\nimport PublicRoute from \"./components/AppBar/PublicRoute\";\r\n\r\nconst HomeView = lazy(() => import(\"./components/views/HomeView\"));\r\nconst LoginView = lazy(() => import(\"./components/views/LoginView\"));\r\nconst RegistrView = lazy(() => import(\"./components/views/RegistrView\"));\r\nconst ContactsView = lazy(() => import(\"./components/views/ContactsView\"));\r\n\r\nclass Phonebook extends Component {\r\n  componentDidMount() {\r\n    this.props.onGetCurrentUser();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.container}>\r\n        <NavBar />\r\n        <ToastContainer autoClose={3000} />\r\n        <Suspense fallback={<p>Сейчас всё будет</p>}>\r\n          <Switch>\r\n            <PublicRoute exact path=\"/\" component={HomeView} />\r\n            <PublicRoute\r\n              path=\"/registration\"\r\n              restricted\r\n              redirectTo=\"/contacts\"\r\n              component={RegistrView}\r\n            />\r\n            <PublicRoute\r\n              path=\"/login\"\r\n              restricted\r\n              redirectTo=\"/contacts\"\r\n              component={LoginView}\r\n            />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/contacts\"\r\n              redirectTo=\"/login\"\r\n              component={ContactsView}\r\n            />\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onGetCurrentUser: authOperations.getCurrentUser,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Phonebook);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport store from \"./redux/store\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store.store}>\r\n      <PersistGate loading={null} persistor={store.persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}